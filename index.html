<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aer - Pollens en mouvement</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="assets/styles/main.css">
    <link rel="stylesheet" href="assets/styles/responsive.css">
    
    <!-- Leaflet pour la carte -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- p5.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    
    <!-- PapaParse pour CSV -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
</head>
<body>
    <div id="app-container">
        <!-- Panneau gauche - Visualisation principale -->
        <div id="left-panel" class="panel">
            <div id="controls-top">
                <div id="mode-selector"></div>
                <div id="year-selector"></div>
                <div class="spacer"></div>
                <div class="controls-right">
                    <button id="reset-btn" class="icon-btn" title="Réinitialiser">
                        <img src="assets/icons/reset.png" alt="Reset">
                    </button>
                    <button id="export-btn" class="icon-btn" title="Exporter">
                        <img src="assets/icons/export.png" alt="Export">
                    </button>
                </div>
            </div>
            
            <div id="visualization-container"></div>
            
            <div id="controls-bottom">
                <div id="timeline-controls">
                    <button id="backward-btn" class="timeline-btn" title="Précédent">
                        <img src="assets/icons/backward.png" alt="Backward">
                    </button>
                    <button id="play-pause-btn" class="timeline-btn" title="Lecture/Pause">
                        <img src="assets/icons/play.png" alt="Play">
                    </button>
                    <button id="forward-btn" class="timeline-btn" title="Suivant">
                        <img src="assets/icons/forward.png" alt="Forward">
                    </button>
                    <div id="date-display">Sélectionnez une zone</div>
                </div>
                <input type="range" id="timeline-slider" min="0" max="100" value="0">
            </div>
        </div>
        
        <!-- Panneaux droits -->
        <div id="right-panels">
            <!-- Panneau carte -->
            <div id="map-panel" class="panel">
                <div id="map-container"></div>
            </div>
            
            <!-- Panneau pollens et filtres -->
            <div id="bottom-right-panel" class="panel">
                <div id="pollen-display"></div>
                <div id="filters-panel"></div>
            </div>
        </div>
    </div>
    
    <!-- Scripts - ordre important -->
    <script src="src/config/constants.js"></script>
    <script src="src/config/palette.js"></script>
    <script src="src/config/pollenGroups.js"></script>
    
    <script src="src/utils/colorUtils.js"></script>
    <script src="src/utils/animationUtils.js"></script>
    <script src="src/utils/dataUtils.js"></script>
    <script src="src/utils/geometryUtils.js"></script>
    
    <script src="src/state.js"></script>
    <script src="src/dataLoader.js"></script>
    
    <script src="src/ui/components/tooltip.js"></script>
    <script src="src/ui/components/legend.js"></script>
    <script src="src/ui/components/controls.js"></script>
    
    <script src="src/ui/panels/mapPanel.js"></script>
    <script src="src/ui/panels/filtersPanel.js"></script>
    <script src="src/ui/panels/pollenPanel.js"></script>
    <script src="src/ui/panels/exportPanel.js"></script>
    
    <script src="src/visuals/radialCalendar.js"></script>
    <script src="src/visuals/plantingGrid.js"></script>
    <script src="src/visuals/areaGraph.js"></script>
    <script src="src/visuals/index.js"></script>
    
    <script src="src/app.js"></script>
    <script src="src/main.js"></script>
</body>
</html>